# OpenManus Java Configuration
openmanus:
  app:
    name: "OpenManus"
    version: "1.0.0"
    workspace-root: "./workspace"
    log-level: "INFO"

  llm:
    default-llm:
      model: "qwen-max"
      base-url: "https://dashscope.aliyuncs.com/compatible-mode/v1/"
      api-type: "openai"
      temperature: 0.7
      max-tokens: 8192
      timeout: 120
      # 阿里云百炼 API key
      api-key: "sk-9ced5f4658584abe9b786a0876e850c4"

  sandbox:
    type: "docker"
    use-sandbox: false
    image: "python:3.11-slim"
    work-dir: "/workspace"
    memory-limit: "512m"
    cpu-limit: 1.0
    timeout: 120
    network-enabled: true

  browser:
    type: "chrome"
    headless: true
    timeout: 30
    user-agent: "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36"

  proxy:
    enabled: false
    http-proxy: ""
    https-proxy: ""

  search:
    engine: "google"
    api-key: ""
    max-results: 10

  # MCP配置已移除，现在直接使用langchain4j-mcp的DefaultMcpClient
  # 如需使用MCP工具，请在业务代码中直接new DefaultMcpClient

  runflow:
    enabled: false
    max-steps: 20
    timeout: 300

# Spring Boot配置
server:
  port: 8089
  servlet:
    context-path: /
  error:
    include-message: always
    include-binding-errors: always

spring:
  application:
    name: openmanus-java-web
  
  # Web相关配置
  web:
    resources:
      static-locations: classpath:/static/
      cache:
        period: 0 # 开发环境不缓存静态资源

  # JSON配置
  jackson:
    date-format: "yyyy-MM-dd HH:mm:ss"
    time-zone: "Asia/Shanghai"
    default-property-inclusion: NON_NULL

  # WebSocket配置
  websocket:
    servlet:
      allowed-origins: "*"

# 监控配置
management:
  endpoints:
    web:
      exposure:
        include: health,info,metrics,prometheus
      base-path: /actuator
  endpoint:
    health:
      show-details: always

# OpenAPI/Swagger配置
springdoc:
  api-docs:
    path: /api-docs
  swagger-ui:
    path: /swagger-ui.html
    tags-sorter: alpha
    operations-sorter: alpha

logging:
  level:
    com.openmanus.java: INFO
    root: INFO
    org.springframework.web: DEBUG
