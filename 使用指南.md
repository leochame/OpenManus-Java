# OpenManus Java版本使用指南

## 🎯 项目概述

OpenManus Java版本是一个基于Spring Boot的智能代理系统，集成了阿里云百炼API，具备强大的任务执行能力。

## 🚀 快速开始

### 1. 基础运行
```bash
# 直接运行（Spring Boot方式）
mvn spring-boot:run

# 或者先编译后运行
mvn clean compile
mvn spring-boot:run
```

### 2. 测试模式
```bash
# 运行功能测试
./run_test.sh

# 或者手动运行
mvn spring-boot:run -Dspring-boot.run.profiles=test
```

### 3. 交互模式
```bash
# 启动交互式对话
./run_interactive.sh

# 或者手动运行
mvn spring-boot:run -Dspring-boot.run.profiles=interactive
```

## 💡 核心功能

### 🐍 Python代码执行
- 在Docker沙箱中安全执行Python代码
- 支持数据分析、机器学习、算法实现
- 自动捕获输出和错误信息

### 📁 文件操作
- 读取和写入文件
- 创建和管理目录
- 批量文件处理
- 文件存在性检查

### 🌐 网络搜索
- 实时网络信息搜索
- 多搜索引擎支持
- 内容提取和分析

### 💬 人机交互
- 支持用户输入和对话
- 智能问答和任务分配
- 上下文记忆功能

## 🛠️ 任务示例

### 数据分析任务
```
用户输入: "分析data.csv文件中的销售数据，生成可视化图表"

OpenManus会：
1. 读取CSV文件
2. 使用Python进行数据分析
3. 生成统计报告
4. 创建可视化图表
5. 保存结果文件
```

### 编程任务
```
用户输入: "帮我写一个Python脚本，实现快速排序算法"

OpenManus会：
1. 编写快速排序代码
2. 在沙箱中测试运行
3. 提供代码说明
4. 保存到文件
```

### 信息搜索任务
```
用户输入: "搜索最新的人工智能技术发展趋势"

OpenManus会：
1. 执行网络搜索
2. 收集相关信息
3. 整理和分析内容
4. 生成总结报告
```

## 🔧 配置说明

### API配置
当前使用阿里云百炼API：
- 模型：qwen-plus
- API密钥：sk-215d832f34f34d0b927e3ff36c8df6c1
- Base URL：https://dashscope.aliyuncs.com/compatible-mode/v1/

### 沙箱配置
Docker沙箱环境：
- 镜像：python:3.11-slim
- 内存限制：512MB
- CPU限制：1.0
- 超时：120秒

## 📝 使用技巧

### 1. 任务描述要清晰
```
❌ 模糊：处理数据
✅ 清晰：分析sales.csv中的销售数据，计算月度增长率并生成图表
```

### 2. 分步骤进行复杂任务
```
复杂任务：
1. 先让OpenManus分析需求
2. 确认执行计划
3. 逐步完成各个子任务
```

### 3. 利用工具组合
```
文件操作 + Python分析 + 网络搜索 = 强大的数据处理能力
```

## 🚨 注意事项

1. **资源限制**：沙箱环境有内存和CPU限制
2. **网络访问**：搜索功能需要网络连接
3. **文件路径**：使用相对路径或明确指定工作目录
4. **API配额**：注意API调用次数限制

## 🆘 故障排除

### 常见问题
1. **Docker问题**：确保Docker服务正在运行
2. **内存不足**：调整沙箱内存限制
3. **API超限**：检查API密钥和配额
4. **网络问题**：检查网络连接

### 日志查看
```bash
# 查看运行日志
mvn spring-boot:run -Dlogging.level.com.openmanus.java=DEBUG
```

## 📊 性能参数

- **启动时间**：~10-15秒
- **内存使用**：~200-500MB
- **响应时间**：1-5秒（取决于任务复杂度）
- **并发支持**：单任务处理
- **API调用**：平均20-50 tokens/请求

## 🔮 未来发展

即将支持的功能：
- [ ] 多智能体协作
- [ ] 浏览器自动化完善
- [ ] 更多编程语言支持
- [ ] 图像处理工具
- [ ] 数据库集成
